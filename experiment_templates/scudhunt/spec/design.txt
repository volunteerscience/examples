Todo:
  game:    
    button changes to "Waiting for Team" when pressed (maybe even a timout thing?)
    timeout clock (steal from word-morph)
      auto-submit if not clicked
      
    ability to place 2 units in same square:
      display the units side by side (and scaled down)
        Use this to indicate which reading corresponds to which unit
    auto-advance situation report slider
    
    to support touch-screens:
      clicking a unit on a region should fade out the color for all affected regions:
        ex: if red, then don't place the unit, but fade out the color 
            if green, fade out all the affected regions
    
  opening:
    find a cool font for the instructions
    do the fade-in stuff
    reward for watching story
    skip story
    rewards for watching rules for each player type
    skip instructions
    
    instructions:
      load the instructions variables
      initFlavorInstructions(); // can modify any of the instruction rules
      
      this is the game board
      these are your assets:
        < create a Spy asset >
        You place an asset by selecting the asset, then clicking a region on the game board.
        Place the Spy anywhere on the game board.
        <blink asset button until they click on it>
        Now that you've placed the Spy you can see its status on the right (blink status 3 times)
        
      Some assets can scan multiple regions:          
        < create Satellite Unit >
        The Satellite can scan an entire column.
        When you click the column, you will see the entire column <span style="color:green;">light up</span>.
         
      Some units have restricted movement:          
        < create Manned Aircraft Unit >
        The Manned Aircraft cannot fly in rows A nor B.
        Try placing the Manned Aircraft in a restricted area.
        Note that the <red>region turns red</red> to indicate that the unit can't be placed there
        <wait for placing in restricted square>
        Great, now place the Manned Aircraft into a <green>valid<green> square
        
      When you have placed your units, click <green>End Turn</green> at below the game board
        <display End Turn>

      Each Asset has shown you the results of their search:
        X indicates the unit positively identified the target in the region
        0 indicates that the unit did not see any evidence of the target in the region
        ? indicates the unit found some evidence of the target but is not sure
        Note: <i>Any of these readings may be wrong.  Each Asset has different accuracy for each situation.</>
        
      Some units can become disabled at the end of the turn:
        Your Manned Aircraft is Resting (blink Aircraft status)

      Some units remain on the board after the turn:
        Note that your spy can only move 1 square per move after it is initially placed.
        Move the Spy and the Recon satellite, then press "End Turn" to continue.

      if (showMapHistory)        
        The tabs above the map allow you to review the results of previous rounds.
          <show #roundHistory>
          Click "1" to see the results of round 1.        
          <wait for click>
          Now Click "Current" to see the Current game state.
          Note: <i>If you place a unit while viewing a previous round, the map will switch to "Current"</i>

      Your team has a limited amount of time each <Round> to select your moves.  
        <show countdown clock>

      After XXX <Round>s, you must give your best guess about the location of the targets.
        <change assets to 2 "Target" assets>
        You indicate the targets location the same way you place assets.  
        Place each <target> on the board now.

      You are part of a team and can only control some of the Assets. <always show this, even after skip instructions>              
        <show situation reports if not skipped instructions>
        <ul>
          * You will see the results of (autochat ? all : your) assets in the Situation Reports window.
        
        if (showAllScans)
          * You can see the result of all player's Assets in the map.
        else:
          * You can only see the results of _your_ Assets in the map.

        if (clickChat)
          * You can communicate your unit's report with your team by clicking their statement. 
       
        if (chat)
          * You can chat with your team in the field below the situation report.
        
        if (showLiveMoves)
          * You can see your team's moves while they are deciding where to place their unit.
        </ul>

  end:
    change assets to targts
    survey for certainty
    show results/airstrikes
  


Kornoa
Gulf of Sabani


  1 2 3 4 5
A
B
C
D
E

Results:
  0 - nothing significant 
  ? - vehicles detected 
  x - Launchers detected (launchers; deception; civilian)
  K - Killed in Action
  E - Team Extracted

Sensors:
  0 Recon Satellite - Column -- Hi probability 0 or ? (can't reliably confirm launchers) <satellite>
  1 Manned Aircraft - Row, every other turn -- Row E: excellent reliability C, D reduced <SR-71> 
  2 UAV - Row - Good search reliability - chance of shot down, random probability of replacement <
  3 SIGINT - 1 square - Search any grid square - 0 or ?
  4 HUMINT - 1 square - Walk around - chance of execution, unreplacable
  5 Spec Ops - distinguish ? and x - compromised: emergency extraction, loss for 1 turn, chance of added back every additional turn
  6 Navy SEALS - Spec ops starting on Row E
  
  7 scud (icon)
  8 explosion
  9 attack aircraft

Players:
  Space Asset Manager: Recon Satellite
  Air Asset Manager: Manned Air, UAV
  Spy: SIGINT, HUMINT
  SpecOps: Spec ops, SEALS

Sensor:
               Actual
Report  0   D   X

    0  .7  .2  .1  

    ?  .2  .6  .2

    X  .1  .2  .7


Options:
  Shared Viz - Grid shows all events
  Chat
  Turn Length
  Num turns
  Moving Scuts

Icons:
  Scud: scud.png
  satellite: satellite.png
  Spec Ops: spec_ops.png
  HUMINT: spy.png
  Navy SEALS seals.png
  SIGINT: headphones.png
  Manned Air: SR-71.png
  UAV: uav.png
  Attack Aircraft: F-117.png

image to icon:
  http://www.gimp.org/tutorials/Sketch_Effect/

Questions:  Perla page 61

Variables:
  Sensor Matrix:
    s_sat
    s_air
    s_uav
    s_sigint
    s_spy
    s_sops
    s_seal

  k_uav
  k_spy
  k_sops
  k_seal

  r_uav
  r_sops
  r_seal

  num_rows = 5
  num_cols = 5

  min_turns = 5
  max_turns = 5

  num_scuds = 3
  num_decoys

  shared_vis = true, false, random

auto chat:
  computer sends info

unit:
  doMove() // fly over, move to a square etc

show status in .asset (on right)
  (Ready, Dead, Resting, B2, etc)

Turn 1 of 5:
move button: 
  "End Turn"
  click:
    seedRandom(seed*playerId*turn*round+55)
    for unit in myUnits:
      if (nextMove == null) {
        alert: please assign unit.name
        return;
      }
      calculate result from tables
    
  submit move:
    <command unit="1" region="2" scan="0,1,2,3,4" result="?,0,0,?,0" wait="0"/> // wait is how many turns until back, 0 = available next turn, 1=wait a turn, -1="dead forever" 
    then says "waiting for team"

wait for moves:
    
  
    
  
  
  


